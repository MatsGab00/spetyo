<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>anders27</title>
<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    background-color: #f9f9f9;
  }
  h1 {
    color: gold;
    font-size: 3em;
    font-weight: bold;
    margin-bottom: 20px;
  }
  #player-inputs, #game {
    width: 100%;
    max-width: 600px;
    margin-top: 20px;
  }
  input {
    margin: 5px 0;
    padding: 14px;
    width: 100%;
    box-sizing: border-box;
    font-size: 1.2em;
  }
  button {
    padding: 14px 30px;
    margin: 10px 5px 0 0;
    cursor: pointer;
    font-size: 1.2em;
    border: none;
    border-radius: 8px;
  }
  #add-player-btn {
    background-color: #4CAF50;
    color: white;
  }
  #next-btn {
    background-color: #4CAF50;
    color: white;
  }
  #back-btn {
    background-color: #f44336;
    color: white;
  }
  #prompt-box {
    margin: 20px 0;
    text-align: center;
    font-size: 1.2em;
    min-height: 100px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  #prompt-image {
    max-width: 80%;
    margin-top: 15px;
    display: none;
    border-radius: 10px;
  }
</style>
</head>
<body>

<h1>Anders27</h1>

<div id="player-inputs">
  <h3>Legg inn spillernavn:</h3>
  <div id="inputs-container">
    <input type="text" placeholder="Spiller 1">
  </div>
  <button id="add-player-btn">Legg til spiller</button>
  <button id="start-game-btn">Start</button>
</div>

<div id="game" style="display:none;">
  <div id="prompt-box">
    <div id="prompt-text"></div>
    <img id="prompt-image" src="">
  </div>
  <div>
    <button id="next-btn">Start</button>
    <button id="back-btn">Tilbake til meny</button>
  </div>
</div>

<script>
const prompts = [
  "SANT ELLER USANT: px sier et utsagn om seg selv, resten stemmer om det er sant eller usant. De som gjetter rett kan dele ut 5 slurker.",
  "Kategori: Bursdagsbarnet bestemmer, px starter",
  "Kategori: Arsenal-spillere, tidligere eller nåværende, px starter",
  "Kategori: Typer kaker, px starter",
  "Kategori: Land som bursdagsbarnet har vært i, px starter",
  "Kategori: Utesteder i Bergen, px starter",
  "Pekelek: Hvem har ingen filter når blir full?",
  "Pekelek: Hvem må fortelle det flaueste de har gjort på fylla eller ta 10 slurker?",
  "Pekelek: Hvem må drikke opp halve enheten sin?",
  "Pekelek: Hvem er mest slutty?"
];

let players = [];
let currentPromptIndex = 0;

// Legg til ny spiller input
document.getElementById('add-player-btn').addEventListener('click', () => {
  const container = document.getElementById('inputs-container');
  const currentCount = container.querySelectorAll('input').length;
  if(currentCount >= 20) return alert("Maks 20 spillere!");
  
  const newInput = document.createElement('input');
  newInput.type = 'text';
  newInput.placeholder = 'Spiller ' + (currentCount + 1);
  container.appendChild(newInput);
});

// Start spillet
document.getElementById('start-game-btn').addEventListener('click', () => {
  startGame();
});

// Neste/start-knapp
document.getElementById('next-btn').addEventListener('click', () => {
  if(document.getElementById('next-btn').textContent === "Start") {
    document.getElementById('next-btn').textContent = "Neste";
  } else {
    currentPromptIndex++;
    if(currentPromptIndex >= prompts.length) {
      alert("Spillet er ferdig!");
      currentPromptIndex = 0;
    }
  }
  showPrompt();
});

// Tilbake til meny
document.getElementById('back-btn').addEventListener('click', () => {
  document.getElementById('game').style.display = 'none';
  document.getElementById('player-inputs').style.display = 'block';
  document.getElementById('next-btn').textContent = "Start";
  currentPromptIndex = 0;
});

function startGame() {
  const inputs = document.querySelectorAll('#inputs-container input');
  players = [];
  inputs.forEach(input => {
    if(input.value.trim() !== '') players.push(input.value.trim());
  });

  if(players.length < 2) {
    alert("Legg inn minst 2 spillere!");
    return;
  }

  document.getElementById('player-inputs').style.display = 'none';
  document.getElementById('game').style.display = 'block';
  currentPromptIndex = 0;
  document.getElementById('next-btn').textContent = "Start";
  showPrompt();
}

function showPrompt() {
  const promptText = prompts[currentPromptIndex];
  const promptBox = document.getElementById('prompt-text');
  const promptImage = document.getElementById('prompt-image');

  let text = promptText.replace(/px/g, () => {
    return players[Math.floor(Math.random() * players.length)];
  });

  promptBox.textContent = text;
  promptImage.style.display = 'none';
  promptImage.src = '';
}
</script>

</body>
</html>
