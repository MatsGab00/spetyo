<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>anders27</title>
<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    background-color: #f9f9f9;
  }
  h1 {
    color: gold;
    font-size: 3em;
    margin-bottom: 20px;
  }
  #player-inputs, #game {
    width: 100%;
    max-width: 600px;
    margin-top: 20px;
  }
  input {
    margin: 5px 0;
    padding: 12px;
    width: 100%;
    box-sizing: border-box;
    font-size: 1.2em;
  }
  button {
    padding: 14px 30px;
    margin-top: 10px;
    cursor: pointer;
    font-size: 1.2em;
    border: none;
    border-radius: 8px;
  }
  #add-player-btn, #start-game-btn, #next-btn {
    background-color: #4CAF50;
    color: white;
  }
  #back-btn {
    background-color: #f44336;
    color: white;
    margin-left: 10px;
  }
  #prompt-box {
    margin: 20px 0;
    text-align: center;
    font-size: 1.3em;
    min-height: 120px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  #prompt-image {
    max-width: 80%;
    margin-top: 15px;
    display: none;
    border-radius: 10px;
  }
</style>
</head>
<body>

<h1>Anders27</h1>

<div id="player-inputs">
  <h3>Legg inn spillernavn (opptil 20):</h3>
  <div id="inputs-container">
    <input type="text" placeholder="Spiller 1">
  </div>
  <button id="add-player-btn">Legg til spiller</button>
  <button id="start-game-btn">Start</button>
</div>

<div id="game" style="display:none;">
  <div id="prompt-box">
    <div id="prompt-text"></div>
    <img id="prompt-image" src="">
  </div>
  <div>
    <button id="next-btn">Start</button>
    <button id="back-btn">Tilbake til meny</button>
  </div>
</div>

<script>
const promptsOriginal = [
  "SANT ELLER USANT: px sier et utsagn om seg selv, resten stemmer om det er sant eller usant. De som gjetter rett kan dele ut 5 slurker.",
  "Kategori: Bursdagsbarnet bestemmer, px starter",
  "Kategori: Arsenal-spillere, tidligere eller nåværende, px starter",
  "Kategori: Typer kaker, px starter",
  "Kategori: Land som bursdagsbarnet har vært i, px starter",
  "Kategori: Utesteder i Bergen, px starter",
  "Pekelek: Hvem har ingen filter når blir full?",
  "Pekelek: Hvem må fortelle det flaueste de har gjort på fylla eller ta 10 slurker?",
  "Pekelek: Hvem må drikke opp halve enheten sin?",
  "Pekelek: Hvem er mest slutty?",
  "Pekelek: Hvem må sitte på fanget til en av naboene sine de neste 10 minuttene?",
  "Pekelek: Hvem trenger å få seg et ligg i dag?",
  "Pekelek: Hvem er her bare for å drikke og gir blanke faen i hvem som har bursdag?",
  "Pekelek: Hvem har de snodigste hobbyene?",
  "Pekelek: Hvem blir et dra-til-tryne på byn?",
  "Snusboks: Hvem kunne spist en ekstra stor Danials rullekebab på færrest tygg?",
  "Snusboks: Hvem er best til å ta vare på barn?",
  "Snusboks: Hvem kunne ikke jobbet i barnehage?",
  "Snusboks: Hvem har den beste sangstemmen?",
  "Snusboks: Hvem er nærmest å bli alkoholiker?",
  "Snusboks: Hvem må holde en 30 sekunders tale?",
  "Snusboks: Hvem vil du utfordre til en fysisk konkurranse, du bestemmer hva?",
  "Snusboks: Hvem er den siste personen du ville hatt over deg i misjonær?",
  "Snusboks: Hvem må lage orgasmelyd for hver gang de drikker til enheten deres er tom?",
  "Rygg til rygg: bursdagsbarnet og personen til venstre",
  "Rygg til rygg: px og personen på motsatt side",
  "Rygg til rygg: Sondre og Anders",
  "Alle som har spilt WoW i det siste året skåler",
  "Alle går i rundgang og forteller en fun fact om seg selv, skål for hver, bursdagsbarnet starter",
  "px tenker på en sexposisjon. Gå i rundgang å gjett hvilken posisjon personen tenker på. De som gjetter rett kan dele ut 10 slurker.",
  "SKÅL! px, hva skåler vi for?",
  "Alle single tar en felles skål",
  "px, si navnet på alle i rommet. Om du ikke klarer det, må du chugge",
  "px, drikk slurker tilsvarende bodycounten din eller chug",
  "px, lag en regel som varer de neste 10 minuttene. Bryt på regelen tilsvarer drikking",
  "px og px er nå drikkepartnere, dette varer ut leken",
  "Bursdagsbarnet deler ut et shot!",
  "px og px gjør stirrekonkurranse, taper må chugge",
  "px, du har 1 minutt å få bursdagsbarnet til å le/smile. Klarer du det kan du dele ut 10 slurker"
];

let players = [];
let prompts = [];
let currentPromptIndex = 0;

// Funksjon for å stokke array
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Legg til ny spiller input
document.getElementById('add-player-btn').addEventListener('click', () => {
  const container = document.getElementById('inputs-container');
  const currentCount = container.querySelectorAll('input').length;
  if(currentCount >= 20) return alert("Maks 20 spillere!");
  
  const newInput = document.createElement('input');
  newInput.type = 'text';
  newInput.placeholder = 'Spiller ' + (currentCount + 1);
  container.appendChild(newInput);
});

// Start spillet
document.getElementById('start-game-btn').addEventListener('click', () => {
  const inputs = document.querySelectorAll('#inputs-container input');
  players = [];
  inputs.forEach(input => {
    if(input.value.trim() !== '') players.push(input.value.trim());
  });

  if(players.length < 2) {
    alert("Legg inn minst 2 spillere!");
    return;
  }

  // Stokk ledetekstene tilfeldig
  prompts = shuffle([...promptsOriginal]);
  currentPromptIndex = 0;

  document.getElementById('player-inputs').style.display = 'none';
  document.getElementById('game').style.display = 'block';
  document.getElementById('next-btn').textContent = "Start";
  showPrompt();
});

// Neste prompt
document.getElementById('next-btn').addEventListener('click', () => {
  if(currentPromptIndex === 0) {
    document.getElementById('next-btn').textContent = "Neste";
  } else {
    currentPromptIndex++;
  }

  if(currentPromptIndex >= prompts.length) {
    alert("Spillet er ferdig!");
    document.getElementById('player-inputs').style.display = 'block';
    document.getElementById('game').style.display = 'none';
    currentPromptIndex = 0;
    return;
  }
  showPrompt();
});

// Tilbake til meny
document.getElementById('back-btn').addEventListener('click', () => {
  document.getElementById('player-inputs').style.display = 'block';
  document.getElementById('game').style.display = 'none';
  currentPromptIndex = 0;
  document.getElementById('next-btn').textContent = "Start";
});

function showPrompt() {
  const promptText = prompts[currentPromptIndex];
  const promptBox = document.getElementById('prompt-text');
  const promptImage = document.getElementById('prompt-image');

  let text = promptText.replace(/px/g, () => {
    return players[Math.floor(Math.random() * players.length)];
  });

  promptBox.textContent = text;

  // Vis bilder basert på type prompt
  if(promptText.startsWith("Pekelek")) {
    promptImage.src = "spetakkel-02.jpg";
    promptImage.style.display = 'block';
  } else if(promptText.startsWith("Snusboks")) {
    promptImage.src = "spetakkel-01.jpg";
    promptImage.style.display = 'block';
  } else {
    promptImage.style.display = 'none';
  }
}
</script>

</body>
</html>
